{#
/**
 * @file
 * Stage media â€“ hero section with title + image/map.
 *
 * Fields: field_image* (media), field_meta_label (string),
 *         field_headline* (string),
 *         field_display_variant (image/visual/map).
 */
#}
{% set variant = paragraph.field_display_variant.value|default('image') %}
<section{{ attributes.addClass('stage-media', 'stage-section', variant == 'visual' ? 'overflow-visible' : 'overflow-hidden') }}>
  <div class="section-container grid grid-cols-8 gap-y-10
              sm:grid-cols-12 sm:gap-12
              md:gap-7 md:items-center">

    {# Title column #}
    <div class="stage__title order-2 gap-3 flex flex-col items-start js-element-group
                col-span-8
                sm:col-span-10 sm:col-start-2
                md:col-span-5
                {% if variant == 'map' %}
                  md:col-start-7
                {% elseif variant == 'visual' %}
                  md:order-2 md:col-start-8
                {% else %}
                  md:order-1 md:col-start-0
                {% endif %}
                lg:pr-6">
      {% if paragraph.field_meta_label.value %}
        <h1 class="info text-hpm-red meta-line--medium meta-line--red">
          {{ paragraph.field_meta_label.value }}
        </h1>
        {% if paragraph.field_headline.value %}
          <h2 class="h1">
            {{ paragraph.field_headline.value }}
          </h2>
        {% endif %}
      {% elseif paragraph.field_headline.value %}
        <h1 class="h1">
          {{ paragraph.field_headline.value }}
        </h1>
      {% endif %}
    </div>

    {# Media column #}
    <div class="stage__media order-1
                sm:col-span-12
                {% if variant == 'map' %}
                  col-span-6 col-start-2
                  sm:col-span-8 sm:col-start-3
                  md:col-span-4 md:col-start-2
                  xl:col-span-3 xl:col-start-3
                {% elseif variant == 'visual' %}
                  col-span-8
                  sm:col-span-10 sm:col-start-2
                  md:col-span-6 md:order-1
                  lg:col-span-5 lg:col-start-2
                {% else %}
                  col-span-8
                  sm:col-span-10 sm:col-start-3
                  md:order-2 md:col-span-7 md:col-start-auto
                {% endif %}">
      {% if variant == 'map' %}
        <div class="relative">
          {% include '@hpm/images/vectors/map2.svg.twig' %}
        </div>
      {% else %}
        {% if content.field_image|render|trim %}
          <div class="relative">
            <div class="image-container js-zoom-image {{ variant == 'visual' ? 'overflow-visible' }}"
                 data-delay=".4" data-duration="1.8">
              {{ content.field_image }}
            </div>
            {# Credits rendered by media entity if available #}
          </div>
        {% endif %}
      {% endif %}
    </div>

  </div>
</section>
<div id="content"> </div>
